<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>CASA0023 Learning diary - 4&nbsp; Week 4 Policy</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Week_5.html" rel="next">
<link href="./Week_3.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Week_4.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Week 4 Policy</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">CASA0023 Learning diary</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About me</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Week 1 Getting started with remote sensing</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Week 2 Xaringan presentation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week_3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Week 3 Corrections</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week_4.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Week 4 Policy</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week_5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Week 5 Google Earth Engine</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week_6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Week 6 Classification I</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week_7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Week 7 Classification II</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week_8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Week 8 Temperature</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#summary" id="toc-summary" class="nav-link active" data-scroll-target="#summary"><span class="header-section-number">4.1</span> Summary</a></li>
  <li><a href="#applications" id="toc-applications" class="nav-link" data-scroll-target="#applications"><span class="header-section-number">4.2</span> Applications</a></li>
  <li><a href="#reflection" id="toc-reflection" class="nav-link" data-scroll-target="#reflection"><span class="header-section-number">4.3</span> Reflection</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Week 4 Policy</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="summary" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="summary"><span class="header-section-number">4.1</span> Summary</h2>
<p>I chose Los Angeles, USA, as this week’s city case study. As the largest city in California, Los Angeles has a vast population. Despite its booming economy, it faces severe climate challenges. <span class="citation" data-cites="W4RAA1">City of Los Angeles (<a href="references.html#ref-W4RAA1" role="doc-biblioref">2021</a>)</span> outlets have expressed concern about the climate in Los Angeles, noting that over the next few decades, the average temperature in Los Angeles is expected to rise by 5 degrees Fahrenheit, with extreme heat causing significant damage. Los Angeles is experiencing a serious Urban Heat Island (UHI) effect, a microclimate phenomenon in which urban areas are significantly warmer than rural ones.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Week4/Week4LA.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Downtown Los Angeles (Source: <a href="https://www.flickr.com/photos/docsearls/12020329773/in/photostream/">flickr</a>)</figcaption>
</figure>
</div>
<p>The American Council for an Energy-Efficient Economy (ACEEE) recorded <span class="citation" data-cites="W4RAA2"><span>“Los Angeles Heat Island Mitigation Policies and Programs”</span> (<a href="references.html#ref-W4RAA2" role="doc-biblioref">n.d.</a>)</span>, which indicates that Los Angeles has also approved many programs and policies to mitigate the UHI effect. The Cool Streets program incorporates many strategies, including shade structures and cool pavements. In October 2020, the City Council approved a policy requiring all new roofs to be cool roofs. The city’s Sustainable City Plan has set a goal to reduce the temperature difference between the city and rural areas by 1.7 degrees Fahrenheit by 2025.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Week4/Week4LA2.webp" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Los Angeles surrounding areas (Source: <a href="https://earthhacksorg.medium.com/event-spotlight-urban-heat-island-hackathon-4d69b311af31">Medium</a>)</figcaption>
</figure>
</div>
<p><span class="citation" data-cites="W4RAA3">Center for Resilient Cities and Landscapes (<a href="references.html#ref-W4RAA3" role="doc-biblioref">2020</a>)</span> has proposed a Heat Vulnerability Assessment. This assessment aims to achieve three main targets:</p>
<ul>
<li><p>Converting heat-absorbing surfaces to cool surfaces.</p></li>
<li><p>Reducing the number of high-temperature emergency visits by residents.</p></li>
<li><p>Increasing urban tree canopy coverage.</p></li>
</ul>
<p>These various policies, strategies, and plans aim to mitigate the UHI effect in Los Angeles, aligning with Sustainable Development Goal 13 (SDG 13) from <span class="citation" data-cites="W4RAA4">United Nations (<a href="references.html#ref-W4RAA4" role="doc-biblioref">2015</a>)</span> : ‘Take urgent action to combat climate change and its impacts’.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Week4/Week4SDG13.jpeg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Sustainable Development Goal 13 (Source: <a href="https://www.endpoverty2030.com/sdg13">ENDPOVERTY2030</a>)</figcaption>
</figure>
</div>
</section>
<section id="applications" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="applications"><span class="header-section-number">4.2</span> Applications</h2>
<p>This section will introduce various studies on using remote sensing technology to mitigate the Urban Heat Island (UHI) effect in Los Angeles. Many examples of using remote sensing technology to tackle the UHI effect exist. These efforts mainly aim to observe and detect urban heat vulnerability and then utilize vulnerability maps in combination with policies to construct and improve specific urban areas. For example, <span class="citation" data-cites="W4R3ko2022measuring">Ko et al. (<a href="references.html#ref-W4R3ko2022measuring" role="doc-biblioref">2022</a>)</span> deployed cooling pavement devices across a large spatial scale.</p>
<p>Remote sensing data have also been used to examine further the effects of different mitigation solutions, such as <span class="citation" data-cites="W4R5maruya2021cool">Maruya (<a href="references.html#ref-W4R5maruya2021cool" role="doc-biblioref">2021</a>)</span> studied the impact of albedo and cool pavement coatings on street surface temperatures using remote sensing infrared temperature data.</p>
<p>Moreover, some studies use remote sensing data to investigate the underlying factors contributing to the UHI effect and how these data can more effectively represent urban observations. <span class="citation" data-cites="W4R6vahmani2014high">Vahmani and Hogue (<a href="references.html#ref-W4R6vahmani2014high" role="doc-biblioref">2014</a>)</span> combined Landsat and MODIS data to generate parameters such as Green Vegetation Fraction (GVF), albedo, and Impervious Surface Area (ISA). It was found that GVF enhanced the capability to observe urban vegetation areas. <span class="citation" data-cites="W4R2vahmani2016impact">Vahmani and Ban-Weiss (<a href="references.html#ref-W4R2vahmani2016impact" role="doc-biblioref">2016</a>)</span> identified that the distance from the ocean is a significant factor in the variation of urban temperatures in Los Angeles.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Week4/Week4W4R2.jpeg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Geographical representation of the three nested WRF domains <a href="https://shengaric92.github.io/CASA0023_Learning_diary/references.html">(Vahmani &amp; Ban‐Weiss, 2016)</a></figcaption>
</figure>
</div>
</section>
<section id="reflection" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="reflection"><span class="header-section-number">4.3</span> Reflection</h2>
<p>This week’s study focused specifically on the Urban Heat Island (UHI) effect in Los Angeles. I learned how researchers and policymakers use remote sensing technology to mitigate the UHI effect, aligning with SDG 13: Climate Action.</p>
<p>Initially, my understanding of UHI was limited, leading me to subconsciously believe that mitigation methods solely involved adding greenery or reducing carbon emissions. However, this week’s readings revealed that many studies concentrate on urban surface albedo. I discovered the importance of converting heat-absorbing surfaces into cool surfaces, such as through the application of cool pavement coatings.</p>
<p>Throughout the week, I engaged the readings in numerous studies that applied remote sensing. I noticed that different studies might emphasize different aspects. I have summarised these into three main points:</p>
<ul>
<li><p>the designation of scheme areas (i.e., identifying the areas most severely affected by the UHI effect)</p></li>
<li><p>monitoring the effects of schemes (assessing whether the implemented schemes are effectively mitigating the effect)</p></li>
<li><p>analyzing the factors that contribute to the UHI effect.</p></li>
</ul>


<div id="refs" class="references csl-bib-body hanging-indent" role="list" style="display: none">
<div id="ref-W4RAA3" class="csl-entry" role="listitem">
Center for Resilient Cities and Landscapes. 2020. <span>“Heat Vulnerability in Los Angeles County Resource and Methodology Assessment.”</span> <a href="https://crcl.columbia.edu/sites/default/files/content
/Southern%20California/LA%20County_Heat_report_200617_compressed.pdf">https://crcl.columbia.edu/sites/default/files/content /Southern%20California/LA%20County_Heat_report_200617_compressed.pdf</a>.
</div>
<div id="ref-W4RAA1" class="csl-entry" role="listitem">
City of Los Angeles. 2021. <span>“SB1 Case Study: Urban Cooling Strategies for Los Angeles Neighborhoods Serviced by the Orange Line.”</span> <a href="https://resilientca.org/projects/e05a58c0-89b5-42b0-9233-2ec015fe7f30/">https://resilientca.org/projects/e05a58c0-89b5-42b0-9233-2ec015fe7f30/</a>.
</div>
<div id="ref-W4R3ko2022measuring" class="csl-entry" role="listitem">
Ko, Joseph, Hannah Schlaerth, Alexandra Bruce, Kelly Sanders, and George Ban-Weiss. 2022. <span>“Measuring the Impacts of a Real-World Neighborhood-Scale Cool Pavement Deployment on Albedo and Temperatures in Los Angeles.”</span> <em>Environmental Research Letters</em> 17 (4): 044027. <a href="https://iopscience.iop.org/article/10.1088/1748-9326/ac58a8/meta">https://iopscience.iop.org/article/10.1088/1748-9326/ac58a8/meta</a>.
</div>
<div id="ref-W4RAA2" class="csl-entry" role="listitem">
<span>“Los Angeles Heat Island Mitigation Policies and Programs.”</span> n.d. <a href="https://database.aceee.org/city/mitigation-urban-heat-islands" class="uri">https://database.aceee.org/city/mitigation-urban-heat-islands</a>.
</div>
<div id="ref-W4R5maruya2021cool" class="csl-entry" role="listitem">
Maruya, Russell. 2021. <span>“COOL PAVEMENT AND ITS EFFECTS ON SOUTHERN CALIFORNIA’s MICROCLIMATES.”</span> PhD thesis, California State Polytechnic University, Pomona. <a href="https://scholarworks.calstate.edu/downloads/s4655n889">https://scholarworks.calstate.edu/downloads/s4655n889</a>.
</div>
<div id="ref-W4RAA4" class="csl-entry" role="listitem">
United Nations. 2015. <span>“THE 17 GOALS.”</span> <a href="https://sdgs.un.org/goals">https://sdgs.un.org/goals</a>.
</div>
<div id="ref-W4R2vahmani2016impact" class="csl-entry" role="listitem">
Vahmani, P, and George A Ban-Weiss. 2016. <span>“Impact of Remotely Sensed Albedo and Vegetation Fraction on Simulation of Urban Climate in WRF-Urban Canopy Model: A Case Study of the Urban Heat Island in Los Angeles.”</span> <em>Journal of Geophysical Research: Atmospheres</em> 121 (4): 1511–31. <a href="https://agupubs.onlinelibrary.wiley.com/doi/full/10.1002/2015JD023718">https://agupubs.onlinelibrary.wiley.com/doi/full/10.1002/2015JD023718</a>.
</div>
<div id="ref-W4R6vahmani2014high" class="csl-entry" role="listitem">
Vahmani, P, and TS Hogue. 2014. <span>“High-Resolution Land Surface Modeling Utilizing Remote Sensing Parameters and the Noah UCM: A Case Study in the Los Angeles Basin.”</span> <em>Hydrology and Earth System Sciences</em> 18 (12): 4791–4806. <a href="https://hess.copernicus.org/articles/18/4791/2014/">https://hess.copernicus.org/articles/18/4791/2014/</a>.
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./Week_3.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Week 3 Corrections</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./Week_5.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Week 5 Google Earth Engine</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>